[build]
  command = "npm run build"
  publish = ".next"

# Add this build settings section for caching
[build.environment]
  NODE_VERSION = "20" 
  NEXT_PUBLIC_SITE_URL = "https://bespoke-pika-28ba05.netlify.app"

# Enable Netlify's Next.js adapter
[[plugins]]
  package = "@netlify/plugin-nextjs"

# Add this for build caching
[build.caching]
  max_parallel_downloads = 10

# Add environment for Turbopack/staleTimes
[context.production]
  environment = { NEXT_EXPERIMENTAL_STALE_TIMES = "true" }

[context.deploy-preview]
  environment = { NEXT_EXPERIMENTAL_STALE_TIMES = "true" }

[context.branch-deploy]
  environment = { NEXT_EXPERIMENTAL_STALE_TIMES = "true" }